<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google OAuth Test</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        .container { margin: 20px; }
        .status { margin: 20px; padding: 10px; border: 1px solid #ccc; }
        .success { background-color: #e6ffe6; color: #080; }
        .error { background-color: #ffe6e6; color: #d00; }
    </style>
</head>
<body>
    <h1>Google OAuth Configuration Test</h1>
    <p>This page tests if the Google OAuth configuration is working correctly.</p>
    
    <div id="buttonDiv" class="container"></div>
    <div id="status" class="status"></div>

    <script>
        function updateStatus(message, isError = false) {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = message;
            statusDiv.className = 'status ' + (isError ? 'error' : 'success');
            console.log(message);
        }

        function handleCredentialResponse(response) {
            updateStatus('‚úÖ SUCCESS: Google Sign-In worked! Received credential token.');
            console.log('Google credential:', response);
        }

        window.onload = function () {
            try {
                updateStatus('üîÑ Initializing Google Sign-In...');
                
                google.accounts.id.initialize({
                    client_id: '408108296000-m3j6qfungr6hu0tibuu77v4lf1po4i4e.apps.googleusercontent.com',
                    callback: handleCredentialResponse
                });

                google.accounts.id.renderButton(
                    document.getElementById("buttonDiv"),
                    { theme: "outline", size: "large" }
                );

                updateStatus('‚úÖ Google Sign-In initialized successfully! Click the button to test.');
            } catch (error) {
                updateStatus('‚ùå ERROR: Failed to initialize Google Sign-In: ' + error.message, true);
            }
        };

        // Handle any global errors
        window.onerror = function(msg, url, lineNo, columnNo, error) {
            updateStatus('‚ùå ERROR: ' + msg, true);
            return false;
        };
    </script>
</body>
</html>
